/*! UIkit 3.0.0-rc.25 | http://www.getuikit.com | (c) 2014 - 2018 YOOtheme | MIT License */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("uikit-util")):"function"==typeof define&&define.amd?define("uikitfilter",["uikit-util"],e):t.UIkitFilter=e(t.UIkit.util)}(this,function(h){"use strict";var c,u="uk-animation-target";function l(t,e){var i=h.css(t,"zIndex");return!!h.isVisible(t)&&h.assign({display:"",opacity:e?h.css(t,"opacity"):"0",pointerEvents:"none",position:"absolute",zIndex:"auto"===i?h.index(t):i},d(t))}function f(t){h.css(t.children,{height:"",left:"",opacity:"",pointerEvents:"",position:"",top:"",width:""}),h.removeClass(t,u),h.css(t,"height","")}function d(t){var e=t.getBoundingClientRect(),i=e.height,n=e.width,r=h.position(t),o=r.top,a=r.left;return{top:o+=h.toFloat(h.css(t,"marginTop")),left:a,height:i,width:n}}var t={mixins:[{props:{animation:Number},data:{animation:150},computed:{target:function(){return this.$el}},methods:{animate:function(t){var n=this;c||(c=h.append(document.head,"<style>").sheet).insertRule("."+u+" > * {\n                    margin-top: 0 !important;\n                    transform: none !important;\n                }",0);var r=h.toNodes(this.target.children),o=r.map(function(t){return l(t,!0)}),e=h.height(this.target),i=window.pageYOffset;t(),h.Transition.cancel(this.target),r.forEach(h.Transition.cancel),f(this.target),this.$update(this.target),h.fastdom.flush();var a=h.height(this.target),s=(r=r.concat(h.toNodes(this.target.children).filter(function(t){return!h.includes(r,t)}))).map(function(t,e){return!!(t.parentNode&&e in o)&&(o[e]?h.isVisible(t)?d(t):{opacity:0}:{opacity:h.isVisible(t)?1:0})});return o=s.map(function(t,e){var i=r[e].parentNode===n.target&&(o[e]||l(r[e]));if(i)if(t){if(!("opacity"in t)){i.opacity%1?t.opacity=1:delete i.opacity}}else delete i.opacity;return i}),h.addClass(this.target,u),r.forEach(function(t,e){return o[e]&&h.css(t,o[e])}),h.css(this.target,"height",e),h.scrollTop(window,i),h.Promise.all(r.map(function(t,e){return o[e]&&s[e]?h.Transition.start(t,s[e],n.animation,"ease"):h.Promise.resolve()}).concat(h.Transition.start(this.target,{height:a},this.animation,"ease"))).then(function(){r.forEach(function(t,e){return h.css(t,{display:0===s[e].opacity?"none":"",zIndex:""})}),f(n.target),n.$update(n.target),h.fastdom.flush()},h.noop)}}}],args:"target",props:{target:Boolean,selActive:Boolean},data:{target:null,selActive:!1,attrItem:"uk-filter-control",cls:"uk-active",animation:250},computed:{toggles:function(t,e){t.attrItem;return h.$$("["+this.attrItem+"],[data-"+this.attrItem+"]",e)},target:function(t,e){var i=t.target;return h.$(i,e)}},events:[{name:"click",delegate:function(){return"["+this.attrItem+"],[data-"+this.attrItem+"]"},handler:function(t){t.preventDefault(),this.apply(t.current)}}],connected:function(){var e=this;if(!1!==this.selActive){var i=h.$$(this.selActive,this.$el);this.toggles.forEach(function(t){return h.toggleClass(t,e.cls,h.includes(i,t))})}},update:function(t){var e=t.toggles,i=t.children;p(e,this.toggles,!1)&&p(i,this.target.children,!1)||(t.toggles=this.toggles,t.children=this.target.children,this.setState(this.getState(),!1))},methods:{apply:function(t){this.setState(n(t,this.attrItem,this.getState()))},getState:function(){var i=this;return this.toggles.filter(function(t){return h.hasClass(t,i.cls)}).reduce(function(t,e){return n(e,i.attrItem,t)},{filter:{"":""},sort:[]})},setState:function(l,t){var f=this;void 0===t&&(t=!0),l=h.assign({filter:{"":""},sort:[]},l),h.trigger(this.$el,"beforeFilter",[this,l]);var d=h.toNodes(this.target.children);this.toggles.forEach(function(t){return h.toggleClass(t,f.cls,function(t,e,i){var n=i.filter;void 0===n&&(n={"":""});var r=i.sort,o=r[0],a=r[1],s=g(t,e),c=s.filter,u=s.group;void 0===u&&(u="");var l=s.sort,f=s.order;void 0===f&&(f="asc");return c=h.isUndefined(l)?c||"":c,l=h.isUndefined(c)?l||"":l,(h.isUndefined(c)||u in n&&c===n[u])&&(h.isUndefined(l)||o===l&&a===f)}(t,f.attrItem,l))});var e=function(){var t,e,i=(t=l.filter,e="",h.each(t,function(t){return e+=t||""}),e);d.forEach(function(t){return h.css(t,"display",i&&!h.matches(t,i)?"none":"")});var n,r,o,a=l.sort,s=a[0],c=a[1];if(s){var u=(n=d,r=s,o=c,h.toNodes(n).sort(function(t,e){return h.data(t,r).localeCompare(h.data(e,r),void 0,{numeric:!0})*("asc"===o||-1)}));p(u,d)||u.forEach(function(t){return h.append(f.target,t)})}};t?this.animate(e).then(function(){return h.trigger(f.$el,"afterFilter",[f])}):(e(),h.trigger(this.$el,"afterFilter",[this]))}}};function g(t,e){return h.parseOptions(h.data(t,e),["filter"])}function n(t,a,s){return h.toNodes(t).forEach(function(t){var e=g(t,a),i=e.filter,n=e.group,r=e.sort,o=e.order;void 0===o&&(o="asc"),(i||h.isUndefined(r))&&(n?(delete s.filter[""],s.filter[n]=i):s.filter={"":i||""}),h.isUndefined(r)||(s.sort=[r,o])}),s}function p(t,i,n){return void 0===n&&(n=!0),t=h.toNodes(t),i=h.toNodes(i),t.length===i.length&&t.every(function(t,e){return n?t===i[e]:~i.indexOf(t)})}return"undefined"!=typeof window&&window.UIkit&&window.UIkit.component("filter",t),t});